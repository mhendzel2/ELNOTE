# -----------------------------
# Required
# -----------------------------
DATABASE_URL=postgres://elnote:elnote@localhost:5432/elnote?sslmode=disable
JWT_SECRET=replace-with-32-plus-character-secret-value

# -----------------------------
# Core server
# -----------------------------
HTTP_ADDR=:8080
JWT_ISSUER=elnote-api
ACCESS_TOKEN_TTL=15m
REFRESH_TOKEN_TTL=720h
MIGRATIONS_DIR=./migrations
AUTO_MIGRATE=true
REQUIRE_TLS=false

# -----------------------------
# Admin bootstrap / recovery
# -----------------------------
# Optional. If empty on first startup, the API generates a bootstrap
# LabAdmin password and logs it once.
INITIAL_ADMIN_PASSWORD=

# Local development only. When true, /v1/admin/reset-default is enabled
# from localhost only and returns a newly generated password.
ALLOW_LOCAL_ADMIN_RESET=false

# -----------------------------
# Object storage / attachments
# -----------------------------
OBJECT_STORE_PUBLIC_BASE_URL=http://localhost:9000
OBJECT_STORE_BUCKET=elnote
# Optional. Falls back to JWT_SECRET when blank.
OBJECT_STORE_SIGN_SECRET=
OBJECT_STORE_INVENTORY_URL=
OBJECT_STORE_PROBE_TIMEOUT=10s
ATTACHMENT_UPLOAD_URL_TTL=15m
ATTACHMENT_DOWNLOAD_URL_TTL=15m

# -----------------------------
# Reconcile scheduler
# -----------------------------
RECONCILE_STALE_AFTER=24h
RECONCILE_SCAN_LIMIT=500
RECONCILE_SCHEDULE_ENABLED=true
RECONCILE_SCHEDULE_INTERVAL=24h
RECONCILE_SCHEDULE_RUN_ON_STARTUP=false
RECONCILE_SCHEDULE_ACTOR_EMAIL=labadmin

# -----------------------------
# App behavior
# -----------------------------
SEARCH_RESULT_LIMIT=50
PREVIEW_MAX_SIZE_BYTES=10485760
NOTIFICATION_RETENTION_DAYS=90

# -----------------------------
# SMTP (optional)
# -----------------------------
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=no-reply@elnote.local
